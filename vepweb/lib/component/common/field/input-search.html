<div class="row">
    <div class="small-3 columns">
        <label for="{{ id }}" class="right inline" ng-class="{error: errors.isNotEmpty}">{{ label }}</label>
    </div>
    <div class="small-9 columns" ng-show="working">
        Recherche en cours…
    </div>
    <div class="small-9 columns" ng-show="!working">
        <div class="row" ng-class="{'collapse': value != null}">
            <div class="columns" ng-class="{'small-11': value != null, 'small-6': value == null}">
                <input type="search" class="input-search" ng-model="displayedValue"
                       ng-class="{error: errors.isNotEmpty}"
                       ng-blur="valid(null)"
                       ng-disabled="value != null" ng-disabled="!enabled"/>
                <small class="error" ng-if="errors.isNotEmpty">{{ errors.join(' &bull; ') }}</small>
            </div>
            <div class="small-1 columns" ng-if="value != null">
                <a class="button postfix input-search-button" ng-click="invalid()">×</a>
            </div>
            <div class="small-6 columns" ng-if="value == null">
                <ul class="stack button-group">
                    <li ng-repeat="choice in choices">
                        <button class="button secondary" ng-click="valid(choice, $event)">{{ choice.label }}</button>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
